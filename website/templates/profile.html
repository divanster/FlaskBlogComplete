{% extends "base.html" %}
{% block title %}Profile{% endblock %}

{% block content %}
<div class="container">
  <div class="row">
    <div class="col-md-6">
      {% if user %}
        <h1>{{ user.username }}</h1>
        <td><img src="{{ user.avatar(128) }}"></td>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>About Me:</strong> {{ user.about_me }}</p>
        <p><strong>Last Seen:</strong> {{ user.last_seen }}</p>
        {% if user == current_user %}
          <a href="{{ url_for('views.edit_profile') }}" class="btn btn-primary">Edit Profile</a>
        {% endif %}
      {% else %}
        <p>No user found.</p>
      {% endif %}
    </div>
    <div class="col-md-6">
      <h2>Blog Posts</h2>
      <ul>
        {% if user and user.blog_posts %}
          {% for post in user.blog_posts %}
            <li><a href="{{ url_for('views.blogpost', post_id=post.id) }}">{{ post.title }}</a></li>
            <li>{{ post.content | safe }}</li>
          {% endfor %}
        {% else %}
          <li>No blog posts found.</li>
        {% endif %}
      </ul>
    </div>
  </div>
</div>

{% endblock %}
